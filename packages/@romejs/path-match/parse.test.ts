/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

import "@romejs/string-markup";
import {
	PathPattern,
	parsePathPattern,
	parsePathPatternsFile,
} from "@romejs/path-match";
import {test} from "rome";
import {dedent} from "@romejs/string-utils";

function _parsePathPattern(input: string): PathPattern {
	return parsePathPattern({input});
}

test(
	"pattern",
	async (t) => {
		// Negate and wildcard
		t.inlineSnapshot(
			_parsePathPattern("!foo"),
			'PathPattern {\n\tnegate: true\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 1\n\t\t\tindex: 1\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 1\n\t\t\t\t\tindex: 1\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 1\n\t\t\t\t\tindex: 1\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 1\n\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 1\n\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern(""),
			"PathPattern {\n\tnegate: false\n\troot: false\n\tsegments: Array []\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n}",
		);

		// Trailing slash and wildcards
		t.inlineSnapshot(
			_parsePathPattern("/foo/bar"),
			'PathPattern {\n\tnegate: false\n\troot: true\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 5\n\t\t\tindex: 5\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 1\n\t\t\t\t\tindex: 1\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 1\n\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("*/foo/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 6\n\t\t\tindex: 6\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 2\n\t\t\t\t\tindex: 2\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 2\n\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("**/foo/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 7\n\t\t\tindex: 7\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 3\n\t\t\t\t\tindex: 3\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("**/*foo/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 8\n\t\t\tindex: 8\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 3\n\t\t\t\t\tindex: 3\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);

		// Random
		t.inlineSnapshot(
			_parsePathPattern("foo"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 3\n\t\t\tindex: 3\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 3\n\t\t\t\t\tindex: 3\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 4\n\t\t\tindex: 4\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo//bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 5\n\t\t\tindex: 5\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/*/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 6\n\t\t\tindex: 6\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 6\n\t\t\t\t\tindex: 6\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/**/bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 7\n\t\t\tindex: 7\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tWildcardSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/*bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 5\n\t\t\tindex: 5\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 5\n\t\t\t\t\tindex: 5\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/bar*"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 7\n\t\t\tindex: 7\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/*bar*"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 8\n\t\t\tindex: 8\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/*bar*foob"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 9\n\t\t\tindex: 9\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 9\n\t\t\t\t\tindex: 9\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foob"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);

		// Comments
		t.inlineSnapshot(
			_parsePathPattern("# foobar"),
			'Comment {\n\tvalue: "# foobar"\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/bar # foobar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 4\n\t\t\tindex: 4\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar # foobar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/bar\\#foobar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 4\n\t\t\tindex: 4\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar\\\\#foobar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("foo/\\#foobar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 4\n\t\t\tindex: 4\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "\\\\#foobar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);

		// Windows separators
		t.inlineSnapshot(
			_parsePathPattern("\\\\foo\\\\bar"),
			'PathPattern {\n\tnegate: false\n\troot: true\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 7\n\t\t\tindex: 7\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 2\n\t\t\t\t\tindex: 2\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 2\n\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("*\\\\foo\\\\bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 8\n\t\t\tindex: 8\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 3\n\t\t\t\t\tindex: 3\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 8\n\t\t\t\t\tindex: 8\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("**\\\\foo\\\\bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 9\n\t\t\tindex: 9\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 9\n\t\t\t\t\tindex: 9\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 9\n\t\t\t\t\tindex: 9\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 9\n\t\t\t\t\tindex: 9\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("**\\\\*foo\\\\bar"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 10\n\t\t\tindex: 10\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 10\n\t\t\t\t\tindex: 10\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 4\n\t\t\t\t\tindex: 4\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWildcard {\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "foo"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 8\n\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 10\n\t\t\t\t\tindex: 10\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 10\n\t\t\t\t\tindex: 10\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "bar"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 10\n\t\t\t\t\t\t\tindex: 10\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 10\n\t\t\t\t\t\t\tindex: 10\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
		t.inlineSnapshot(
			_parsePathPattern("hello\\\\world"),
			'PathPattern {\n\tnegate: false\n\troot: false\n\tloc: Object {\n\t\tfilename: undefined\n\t\tend: Object {\n\t\t\tcolumn: 7\n\t\t\tindex: 7\n\t\t\tline: 1\n\t\t}\n\t\tstart: Object {\n\t\t\tcolumn: 0\n\t\t\tindex: 0\n\t\t\tline: 1\n\t\t}\n\t}\n\tsegments: Array [\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 0\n\t\t\t\t\tindex: 0\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "hello"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tSegment {\n\t\t\tloc: Object {\n\t\t\t\tfilename: undefined\n\t\t\t\tend: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t\tstart: Object {\n\t\t\t\t\tcolumn: 7\n\t\t\t\t\tindex: 7\n\t\t\t\t\tline: 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts: Array [\n\t\t\t\tWord {\n\t\t\t\t\tvalue: "world"\n\t\t\t\t\tloc: Object {\n\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\tline: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}',
		);
	},
);

test(
	"patterns file",
	(t) => {
		t.inlineSnapshot(
			parsePathPatternsFile({
				input: dedent`
					# comment
					some/path
					!/some/path
					path#not a comment

					# foo
					yes/i/guess this works?
				`,
			}),
			'Array [\n\tComment {\n\t\tvalue: "# comment"\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 9\n\t\t\t\tindex: 9\n\t\t\t\tline: 1\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 0\n\t\t\t\tline: 1\n\t\t\t}\n\t\t}\n\t}\n\tPathPattern {\n\t\tnegate: false\n\t\troot: false\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 9\n\t\t\t\tindex: 19\n\t\t\t\tline: 2\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 10\n\t\t\t\tline: 2\n\t\t\t}\n\t\t}\n\t\tsegments: Array [\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\tindex: 15\n\t\t\t\t\t\tline: 2\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\tindex: 10\n\t\t\t\t\t\tline: 2\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "some"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\t\tindex: 14\n\t\t\t\t\t\t\t\tline: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\t\tindex: 10\n\t\t\t\t\t\t\t\tline: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\tindex: 19\n\t\t\t\t\t\tline: 2\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\tindex: 15\n\t\t\t\t\t\tline: 2\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "path"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 9\n\t\t\t\t\t\t\t\tindex: 19\n\t\t\t\t\t\t\t\tline: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\t\tindex: 15\n\t\t\t\t\t\t\t\tline: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n\tPathPattern {\n\t\tnegate: false\n\t\troot: false\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 11\n\t\t\t\tindex: 31\n\t\t\t\tline: 3\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 20\n\t\t\t\tline: 3\n\t\t\t}\n\t\t}\n\t\tsegments: Array [\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 2\n\t\t\t\t\t\tindex: 22\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\tindex: 20\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "!"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 1\n\t\t\t\t\t\t\t\tindex: 21\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\t\tindex: 20\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\tindex: 27\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 2\n\t\t\t\t\t\tindex: 22\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "some"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\t\tindex: 26\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 2\n\t\t\t\t\t\t\t\tindex: 22\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 11\n\t\t\t\t\t\tindex: 31\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\tindex: 27\n\t\t\t\t\t\tline: 3\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "path"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 11\n\t\t\t\t\t\t\t\tindex: 31\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 7\n\t\t\t\t\t\t\t\tindex: 27\n\t\t\t\t\t\t\t\tline: 3\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n\tPathPattern {\n\t\tnegate: false\n\t\troot: false\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 18\n\t\t\t\tindex: 50\n\t\t\t\tline: 4\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 32\n\t\t\t\tline: 4\n\t\t\t}\n\t\t}\n\t\tsegments: Array [\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 18\n\t\t\t\t\t\tindex: 50\n\t\t\t\t\t\tline: 4\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\tindex: 32\n\t\t\t\t\t\tline: 4\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "path#not a comment"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 18\n\t\t\t\t\t\t\t\tindex: 50\n\t\t\t\t\t\t\t\tline: 4\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\t\tindex: 32\n\t\t\t\t\t\t\t\tline: 4\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n\tComment {\n\t\tvalue: "# foo"\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 5\n\t\t\t\tindex: 57\n\t\t\t\tline: 6\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 52\n\t\t\t\tline: 6\n\t\t\t}\n\t\t}\n\t}\n\tPathPattern {\n\t\tnegate: false\n\t\troot: false\n\t\tloc: Object {\n\t\t\tfilename: undefined\n\t\t\tend: Object {\n\t\t\t\tcolumn: 6\n\t\t\t\tindex: 64\n\t\t\t\tline: 7\n\t\t\t}\n\t\t\tstart: Object {\n\t\t\t\tcolumn: 0\n\t\t\t\tindex: 58\n\t\t\t\tline: 7\n\t\t\t}\n\t\t}\n\t\tsegments: Array [\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\tindex: 62\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\tindex: 58\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "yes"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 3\n\t\t\t\t\t\t\t\tindex: 61\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 0\n\t\t\t\t\t\t\t\tindex: 58\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\tindex: 64\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\tindex: 62\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "i"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 5\n\t\t\t\t\t\t\t\tindex: 63\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 4\n\t\t\t\t\t\t\t\tindex: 62\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\tSegment {\n\t\t\t\tloc: Object {\n\t\t\t\t\tfilename: undefined\n\t\t\t\t\tend: Object {\n\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\tindex: 64\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t\tstart: Object {\n\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\tindex: 64\n\t\t\t\t\t\tline: 7\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparts: Array [\n\t\t\t\t\tWord {\n\t\t\t\t\t\tvalue: "guess this works?"\n\t\t\t\t\t\tloc: Object {\n\t\t\t\t\t\t\tfilename: undefined\n\t\t\t\t\t\t\tend: Object {\n\t\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\t\tindex: 64\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstart: Object {\n\t\t\t\t\t\t\t\tcolumn: 6\n\t\t\t\t\t\t\t\tindex: 64\n\t\t\t\t\t\t\t\tline: 7\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n]',
		);
	},
);
