---
source: crates/rome_js_analyze/tests/spec_tests.rs
assertion_line: 73
expression: invalid.ts
---
# Input
```js
// @ts-expect-error
const bar = case1!!.bar;

function case2(bar: number | undefined) {
  const bar1: number = bar!!!;
}

function case3(bar?: { n: number }) {
  return bar!?.n;
}

function case4(bar?: { n: number }) {
  return bar!?.();
}

const bar2 = (case5!)!.bar;

function case6(bar?: { n: number }) {
  return (bar!)?.n;
}

function case7(bar?: { n: number }) {
  return (bar)!?.n;
}

function case8(bar?: { n: number }) {
  return ((bar!))?.();
}

class Case9 {
  method() {
    this.property!!;
  }
}

case10!!.prop = null;

```

# Diagnostics
```
invalid.ts:2:13 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    1 │ // @ts-expect-error
  > 2 │ const bar = case1!!.bar;
      │             ^^^^^^
    3 │ 
    4 │ function case2(bar: number | undefined) {
  
  i Safe fix: Remove extra non-null assertion.
  
    2 │ const·bar·=·case1!!.bar;
      │                   -     

```

```
invalid.ts:5:24 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    4 │ function case2(bar: number | undefined) {
  > 5 │   const bar1: number = bar!!!;
      │                        ^^^^^
    6 │ }
    7 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    5 │ ··const·bar1:·number·=·bar!!!;
      │                             - 

```

```
invalid.ts:5:24 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    4 │ function case2(bar: number | undefined) {
  > 5 │   const bar1: number = bar!!!;
      │                        ^^^^
    6 │ }
    7 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    5 │ ··const·bar1:·number·=·bar!!!;
      │                             - 

```

```
invalid.ts:9:10 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
     8 │ function case3(bar?: { n: number }) {
   > 9 │   return bar!?.n;
       │          ^^^^
    10 │ }
    11 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    9 │ ··return·bar!?.n;
      │             -    

```

```
invalid.ts:13:10 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    12 │ function case4(bar?: { n: number }) {
  > 13 │   return bar!?.();
       │          ^^^^
    14 │ }
    15 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    13 │ ··return·bar!?.();
       │             -     

```

```
invalid.ts:16:15 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    14 │ }
    15 │ 
  > 16 │ const bar2 = (case5!)!.bar;
       │               ^^^^^^
    17 │ 
    18 │ function case6(bar?: { n: number }) {
  
  i Safe fix: Remove extra non-null assertion.
  
    16 │ const·bar2·=·(case5!)!.bar;
       │                    -       

```

```
invalid.ts:19:11 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    18 │ function case6(bar?: { n: number }) {
  > 19 │   return (bar!)?.n;
       │           ^^^^
    20 │ }
    21 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    19 │ ··return·(bar!)?.n;
       │              -     

```

```
invalid.ts:23:10 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    22 │ function case7(bar?: { n: number }) {
  > 23 │   return (bar)!?.n;
       │          ^^^^^^
    24 │ }
    25 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    23 │ ··return·(bar)!?.n;
       │               -    

```

```
invalid.ts:27:12 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    26 │ function case8(bar?: { n: number }) {
  > 27 │   return ((bar!))?.();
       │            ^^^^
    28 │ }
    29 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    27 │ ··return·((bar!))?.();
       │               -       

```

```
invalid.ts:32:5 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    30 │ class Case9 {
    31 │   method() {
  > 32 │     this.property!!;
       │     ^^^^^^^^^^^^^^
    33 │   }
    34 │ }
  
  i Safe fix: Remove extra non-null assertion.
  
    32 │ ····this.property!!;
       │                   - 

```

```
invalid.ts:36:1 lint/nursery/noExtraNonNullAssertion  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ! Forbidden extra non-null assertion.
  
    34 │ }
    35 │ 
  > 36 │ case10!!.prop = null;
       │ ^^^^^^^
    37 │ 
  
  i Safe fix: Remove extra non-null assertion.
  
    36 │ case10!!.prop·=·null;
       │        -             

```


